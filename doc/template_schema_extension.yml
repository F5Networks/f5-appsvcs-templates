$schema: http://json-schema.org/draft-07/schema#
$id: mystique_templates_as_schema
allOf:
  - $ref: http://json-schema.org/draft-07/schema#
  - properties:
      template:
        type: string
        description: |
          A blob with the template text itself. Field should be validated with a
          custom format, using a successful mustache.parse and schema generation
          as validation criteria.
      allOf:
        type: array
        items:
          $ref: #
        desciption: |
          If allOf is used, this template is a merger of all the rendered objects
          of the templates listed
      oneOf:
        type: array
        items:
          $ref: #
        desciption: |
          This template is an exclusive choice of several templates
          (chicken or burger? Encrypted or Unencryupted?)
      anyOf:
        type: array
        items:
          $ref: #
        description: |
          Several templates that can be chosen together
          (pickles? onions? lettuce? tomato?,
           waf? endpoint policy? monitors? l4 policies?)
    required:
      - title
      - template
