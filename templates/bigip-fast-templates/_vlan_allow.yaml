contentType: application/json
bigipHideTemplate: true
definitions:
  vlans_allow:
    title: Allow or Reject VLANs
    description: Names of existing VLANs to add to this virtual server to allow. Check to enable VLAN allow list, uncheck to enable VLAN reject list.
    type: boolean
    default: true
  vlans_enable:
    title: Enable VLAN
    description: Select to enable VLANs.
    type: boolean
  vlan_names:
    title: VLAN Names
    description: List of BIG-IP VLANs.
    type: array
    template: |
{
    "{{tenant_name}}": {
      "{{app_name}}": {
        "{{app_name}}": {
          {{#vlans_enable}}
            {{#vlans_allow}}
              "allowVlans": [
            {{/vlans_allow}}
            {{^vlans_allow}}
              "rejectVlans": [
            {{/vlans_allow}}
            {{#vlan_names}}
            { "bigip": {{ . }} },
            {{/vlan_names}}
            ]
          {{/vlans_enable}}
        }
      }
    }
  }